# [ai]结构化机器学习项目

### 正交化

做好一个监督学习系统，通常需要调系统的“旋钮”，确保四件事

1. 在训练集上得到不错的结果，在训练集上的表现必须通过某种评估，达到能接受的程度。（在某种程度上可能意味着要达到人类的水平表现）修正方式（更大的网络，更好的优化算法）
2. 在开发集上也有好的表现。（正则化、增大训练集）
3. 在测试集上也有好的表现。（更大的开发集）
4. 希望系统在测试集上系统的成本函数在实际使用中表现令人满意。（改变开发集或成本函数）

### 单实数评估指标

结合查准率和查全率的标准方法是F1分数，可以认为是两个的某种程度的平均值。

可以快速地判断出分类器A或者分类器B那个更好。可以提高效率。

### 训练-开发-测试集划分

如果有一些有类似于地域差别的数据，我们可以将所有数据随机洗牌，放入开发集和测试集

尽量选取同一个类型的数据（同一个分布），如果数据差别很大，会产生糟糕的效果。

### 开发集和测试集大小

经验法则，70/30比例分成训练集和测试集，或者60/20/10的训练集、开发集、测试集。在机器学习早期，是合理的，适用于数据集较小。

面对大的多的数据集比如100万，98/1/1或许是好的选择。

有100000个例子就能给你足够的置信度来给出性能指标了。

评估指标并不是唯一的标准，需要根据需要改变

使用的训练集要贴近于实际，才能知道如何设置的更合理。

### 进行误差分析

1. 收集100个错误标记的开发集例子，手动检查，看开发集错误在哪里。不要在占比小的错误中花费太多功夫。寻找问题最多的地方，解决问题。
2. 将所有问题细则列下来，对比比较问题。找到干扰算法的原因，解决问题。

深度学习对随机误差很健壮，但对系统误差错误就没办法。

尽量保持训练集和开发集在同一个分布。

### 快速搭建一个系统，进行迭代

快速设立开发集和测试集还有指标，马上搭建一个机器学习系统的原型，找到训练集，开始理解你的算法表现如何，在开发测试集，你的评估指标上测试。偏差分析法，分析。

提早的建立一个模型有助于迅速开始误差分析，然后想出所有有希望的方向，但如果一开始这个方面就有很多相关的文献或者资料，可以借鉴并一开始就搭建比较复杂的系统。

### 在不同划分上进行训练并测试

不建议：若你获得的的大量图片于用户实际图片可能不来源于同一分布的时候

可以将两组合并到一起，随机分配到训练测试开发集之中。好处是他们在同一个数据集了，坏处是有大部分数据不是你真正关心的数据分布。

另一种方法：将所有的其他分类的数据集放到训练集之中，并选择一定数量的期望数据，放到训练集之中，开发集和测试集全部用期望数据。

这样分能对长期有好处。

从训练集里分出一部分数据，不用他们训练网路成为训练-开发集，对比发现问题，可以发现方差问题。可以检查出是方差问题还是数据不匹配的问题。

### 数据不匹配

1.  首先，尝试了解训练集和开发测试集的具体差异。照看样本。尝试收集更多的类似于你的开发集和测试集的数据，加到训练集之中。
2. 如果为了让训练集和开发集更匹配可以尝试**人工合成**数据。尽量使用不同的数据合成，防止过拟合的现象发生。或许对于人来说合成图像可能没有问题，但对于算法可能会对合成的这个小子集过拟合。

### 迁移学习

神经网路可以从一个任务中习得知识，并将这些知识运用到另一个独立任务之中。这就是迁移学习。如果数据较少，只训练输出层前的最后一层，但数据多，可以把所有的层全部训练。

为什么可以只进行迁移学习，因为很多低层次的特征，比如边缘检测，曲线检测等，可以从大量数据中进行学习，然后再别的领域应用即可。算法学到了很多的结构信息，图像信息，可能有一些会有用。

场景应用于有很多数据，但迁移目标问题没有很多数据。当任务a和b都有同样的输入x时，迁移学习是有意义的。前提是数目多。

迁移学习好处坏处并不明显。

### 多任务学习

 建立单个神经网络，解决多个问题。

多任务通常有更好的效果。因为数据有一些共性。原理类似于迁移学习的综合。

但需要足够的的神经网络才能有好的效果。

### 端到端深度学习

大多数学习系统，需要多个阶段的处理，端对端就是忽略所有的不同阶段，用单个神经网络代替他。

有些问题按照常理会有复杂的多部流程，但是端对端就是直接的获取，执行。没有多余的其他步骤。但需要大量的数据。若数据小，传统的方式更好。但大量数据，会让端对端效果非常出色。

多步方法依然是非常有效的步骤，比如先检测到人脸，放大图像部分，让人脸剧中，进行估计确认身份。

优点：有足够多的数据，训练一个够大的网络，网络可以自己解决大量问题。需要手工设计的内容少。

缺点：需要大量数据，数据不够需要构造一个精心设计的系统。将人类的认识进入算法。精心设计的系统可能真的很有用。

复杂问题设计一些系统会很有效果。
